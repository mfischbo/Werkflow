package de.artignition.werkflow.plugin;

/**
 * Interface for plugin's.
 * Note that this interface is not thought to be implemented by custom plugins. Please
 * extend either {@link ManagedPlugin} or {@link UnmanagedPlugin} for custom implementations.
 * 
 * @author M. Fischboeck
 *
 */
public interface Plugin {

	/**
	 * The main execution method.
	 * This method will be called upon each new incoming {@link de.werkflow.model.ObjectStore}.
	 */
	public PluginExitStatus execute();
	
	/**
	 * Callback method that is called once before the entire plugin is being executed.
	 */
	public void beforeExecution();
	
	/**
	 * Callback method that is called once after the entire Plugin finished execution
	 */
	public void afterExecution();
	
	/**
	 * Callback method that is called each time a new input object has arrived, but before being processed.
	 */
	public void beforeWorkItemProcessing();
	
	/**
	 * Callback method that is called each time after the {@link #execute()} method has finished execution.
	 */
	public void afterWorkItemProcessing();
	

	/**
	 * Sets the input data on this plugin
	 * @param input The object store that is the input
	 */
	public void setWorkItem(WorkItem input) throws IllegalAccessException, IllegalArgumentException;
	

	/**
	 * Implementations must return true, if they want to take care about state change consideration them self.
	 * @return True, if state change is managed by the plugin.
	 */
	public boolean hasCustomStateChange();
	
	
	/**
	 * Implementations must return true, if they want to take care about loading input data themselves.
	 * @return True, if input data is loaded by the plugin
	 */
	public boolean hasCustomDataLoader();
	
	
	/**
	 * Implementations must return true, if they want to take care about routing the output data themselves.
	 * @return True, if output data is routed by the plugin
	 */
	public boolean hasCustomOutputRouting();	
}